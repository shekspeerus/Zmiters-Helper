## Дапаможнік Зміцера — Telegram‑бот для расчётов отметок

Небольшой помощник для геодезических расчётов: бот ведёт диалог и считает по формуле: отметка репера + отсчёт по рейке (над репером) − отсчёт по рейке (над измеряемой плоскостью). Поддерживает русский и белорусский языки и простое меню команд.

### Возможности
- **Диалоговый расчёт**: пошаговый ввод значений — отметка репера, отсчёт по рейке (над репером), отсчёт по рейке (над измеряемой плоскостью) — с валидацией чисел (поддерживаются запятая и точка).
- **Точное округление**: результат округляется по правилу HALF_UP к максимальной точности из введённых значений.
- **Переключение языка**: команды и ответы доступны на русском и белорусском.
- **Меню команд**: команды регистрируются в меню Telegram-клиента.

### Команды
- **/start**: начать работу с ботом.
- **/func**: запустить расчёт отметки (ввод: отметка репера → отсчёт по рейке (над репером) → отсчёт по рейке (над измеряемой плоскостью)).
- **/repeat**: повторить расчёт с новым отсчётом по рейке (над измеряемой плоскостью), используя ранее введённые отметку репера и отсчёт по рейке (над репером).
- **/language**: переключить язык бота (ru ⇄ by).
- **/cancel**: отменить текущий расчёт и очистить состояние.

### Требования
- Python 3.10+
- Telegram Bot API токен

Зависимости указаны в `requirements.txt`:
- `python-telegram-bot==20.7`
- `python-dotenv==1.0.0`

### Структура проекта
```
Zmiters-Helper/
  bot.py                # точка входа, инициализация бота и хендлеров
  commands.py           # регистрация меню команд
  core/i18n.py          # выбор текущего языка и доступ к текстам
  handlers/             # обработчики команд
    start.py            # /start
    func.py             # диалог расчёта (отметка репера + отсчёт по рейке (над репером) − отсчёт по рейке (над измеряемой плоскостью))
    language.py         # переключение языка
  locales/              # тексты интерфейса (ru, by)
  requirements.txt
```

### Разработка
- Код использует `python-telegram-bot` v20 (асинхронный API). Обработчики объявлены как `async` функции.
- Тексты интерфейса вынесены в `locales/ru.py` и `locales/by.py`; добавление нового языка — через расширение `SUPPORTED_LANGS` в `core/i18n.py` и создание нового файла локализации.
- Команды и их описания настраиваются в `commands.py` и берутся из `locales/*`. При изменении списка команд обновляйте локализации.
